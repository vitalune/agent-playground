<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PULSE - Live Stream</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #0a0a0a;
            color: #fff;
            overflow-x: hidden;
        }

        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 10, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            border-bottom: 2px solid rgba(0, 255, 255, 0.2);
        }

        .nav-left {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .nav a {
            color: #00ffff;
            text-decoration: none;
            font-size: 0.9em;
            padding: 8px 16px;
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 20px;
            transition: all 0.3s;
        }

        .nav a:hover {
            background: rgba(0, 255, 255, 0.2);
            border-color: #00ffff;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
        }

        .logo {
            font-size: 1.4em;
            font-weight: bold;
            background: linear-gradient(90deg, #00ffff, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .container {
            margin-top: 80px;
            padding: 40px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        h1 {
            font-size: 3em;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #00ffff, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.2em;
            color: #888;
            margin-bottom: 40px;
        }

        canvas {
            display: block;
            background: rgba(0, 255, 255, 0.02);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .metric {
            background: rgba(0, 255, 255, 0.05);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 10px;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .metric::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .metric-value {
            font-size: 2.5em;
            color: #00ffff;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.9em;
            color: #888;
        }

        .metric-trend {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.5em;
            animation: pulse-trend 1s ease-in-out infinite;
        }

        @keyframes pulse-trend {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .trend-up {
            color: #00ff88;
            text-shadow: 0 0 10px #00ff88;
        }

        .trend-down {
            color: #ff4444;
            text-shadow: 0 0 10px #ff4444;
        }

        .tooltip {
            position: fixed;
            background: rgba(0, 255, 255, 0.9);
            color: #000;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 0.9em;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <nav class="nav">
        <div class="nav-left">
            <div class="logo">PULSE</div>
            <a href="../index.html">← Hub</a>
            <a href="index.html">Bar Chart</a>
            <a href="particles.html">Particles</a>
        </div>
    </nav>

    <div class="container">
        <h1>Live Data Stream</h1>
        <p class="subtitle">Real-time multi-line chart with streaming data</p>
        <p class="subtitle" style="font-size: 0.9em; margin-top: -30px; margin-bottom: 30px; color: #666;">Monitoring three network traffic streams (Alpha, Beta, Gamma) measuring packets/second (0-100 scale)</p>

        <canvas id="chart" width="1200" height="400"></canvas>

        <div class="metrics">
            <div class="metric" title="Primary network traffic: incoming data packets per second">
                <span class="metric-trend trend-up" id="trend1">↗</span>
                <div class="metric-value" id="metric1">0</div>
                <div class="metric-label">Stream Alpha (Incoming)</div>
            </div>
            <div class="metric" title="Secondary network traffic: outgoing data packets per second">
                <span class="metric-trend trend-up" id="trend2">↗</span>
                <div class="metric-value" id="metric2">0</div>
                <div class="metric-label">Stream Beta (Outgoing)</div>
            </div>
            <div class="metric" title="Internal routing traffic: packet processing rate">
                <span class="metric-trend trend-up" id="trend3">↗</span>
                <div class="metric-value" id="metric3">0</div>
                <div class="metric-label">Stream Gamma (Routing)</div>
            </div>
            <div class="metric" title="Network load difference between incoming and outgoing traffic">
                <span class="metric-trend" id="trend4">→</span>
                <div class="metric-value" id="metric4">0</div>
                <div class="metric-label">Traffic Delta (In-Out)</div>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('chart');
        const ctx = canvas.getContext('2d');

        const streams = [
            { data: [], color: '#00ffff', label: 'Alpha', lastValue: 50 },
            { data: [], color: '#00ff88', label: 'Beta', lastValue: 60 },
            { data: [], color: '#ff00ff', label: 'Gamma', lastValue: 40 }
        ];

        const maxDataPoints = 100;

        function generateValue(stream) {
            const change = (Math.random() - 0.5) * 10;
            stream.lastValue = Math.max(10, Math.min(90, stream.lastValue + change));
            return stream.lastValue;
        }

        function updateStreams() {
            streams.forEach((stream, index) => {
                const value = generateValue(stream);
                stream.data.push(value);

                if (stream.data.length > maxDataPoints) {
                    stream.data.shift();
                }

                // Update metrics
                document.getElementById(`metric${index + 1}`).textContent = Math.round(value);

                // Update trend
                if (stream.data.length > 1) {
                    const prev = stream.data[stream.data.length - 2];
                    const trendEl = document.getElementById(`trend${index + 1}`);
                    if (value > prev) {
                        trendEl.textContent = '↗';
                        trendEl.className = 'metric-trend trend-up';
                    } else if (value < prev) {
                        trendEl.textContent = '↘';
                        trendEl.className = 'metric-trend trend-down';
                    } else {
                        trendEl.textContent = '→';
                        trendEl.className = 'metric-trend';
                    }
                }
            });

            // Update delta (difference between Alpha and Beta)
            const delta = Math.round(streams[0].lastValue - streams[1].lastValue);
            document.getElementById('metric4').textContent = Math.abs(delta);
        }

        function drawChart() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const padding = 40;
            const chartWidth = canvas.width - padding * 2;
            const chartHeight = canvas.height - padding * 2;

            // Draw grid
            ctx.strokeStyle = 'rgba(0, 255, 255, 0.1)';
            ctx.lineWidth = 1;

            // Horizontal lines
            for (let i = 0; i <= 4; i++) {
                const y = padding + (chartHeight / 4) * i;
                ctx.beginPath();
                ctx.moveTo(padding, y);
                ctx.lineTo(canvas.width - padding, y);
                ctx.stroke();

                // Labels
                ctx.fillStyle = '#555';
                ctx.font = '12px sans-serif';
                ctx.textAlign = 'right';
                ctx.fillText(100 - (i * 25), padding - 10, y + 4);
            }

            // Vertical lines
            for (let i = 0; i <= 5; i++) {
                const x = padding + (chartWidth / 5) * i;
                ctx.beginPath();
                ctx.moveTo(x, padding);
                ctx.lineTo(x, canvas.height - padding);
                ctx.stroke();
            }

            // Draw streams
            streams.forEach((stream, streamIndex) => {
                if (stream.data.length < 2) return;

                const xStep = chartWidth / maxDataPoints;

                // Draw line
                ctx.beginPath();
                ctx.strokeStyle = stream.color;
                ctx.lineWidth = 3;

                stream.data.forEach((value, index) => {
                    const x = padding + index * xStep;
                    const y = padding + chartHeight - (value / 100) * chartHeight;

                    if (index === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                });

                // Glow effect
                ctx.shadowColor = stream.color;
                ctx.shadowBlur = 15;
                ctx.stroke();
                ctx.shadowBlur = 0;

                // Draw points on latest values
                if (stream.data.length > 0) {
                    const lastIndex = stream.data.length - 1;
                    const value = stream.data[lastIndex];
                    const x = padding + lastIndex * xStep;
                    const y = padding + chartHeight - (value / 100) * chartHeight;

                    const pulse = Math.sin(Date.now() * 0.005 + streamIndex) * 0.3 + 1;

                    ctx.beginPath();
                    ctx.arc(x, y, 5 * pulse, 0, Math.PI * 2);
                    ctx.fillStyle = stream.color;
                    ctx.shadowColor = stream.color;
                    ctx.shadowBlur = 20 * pulse;
                    ctx.fill();
                    ctx.shadowBlur = 0;
                }

                // Draw label
                ctx.fillStyle = stream.color;
                ctx.font = 'bold 14px sans-serif';
                ctx.textAlign = 'left';
                ctx.fillText(stream.label, padding + 10, padding + 20 + streamIndex * 25);
            });
        }

        function animate() {
            drawChart();
            requestAnimationFrame(animate);
        }

        // Update data periodically
        setInterval(updateStreams, 100);

        // Start animation
        animate();

        // Resize handling
        window.addEventListener('resize', () => {
            const container = canvas.parentElement;
            const maxWidth = Math.min(1200, container.clientWidth - 80);
            canvas.width = maxWidth;
        });
    </script>
</body>
</html>
